"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[924],{6475:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"getting-started","title":"Getting Started","description":"To start a new project with chayns-api, use our","source":"@site/docs/getting-started.md","sourceDirName":".","slug":"/","permalink":"/chayns-api/docs/","draft":false,"unlisted":false,"editUrl":"https://github.com/TobitSoftware/chayns-api/edit/main/docs/docs/getting-started.md","tags":[],"version":"current","frontMatter":{"title":"Getting Started","slug":"/"},"sidebar":"docs","next":{"title":"Dialogs","permalink":"/chayns-api/docs/dialogs"}}');var a=t(4848),i=t(8453);const r={title:"Getting Started",slug:"/"},o=void 0,c={},d=[{value:"Setup",id:"setup",level:2},{value:"Example Hook",id:"example-hook",level:2},{value:"Example without hook",id:"example-without-hook",level:2},{value:"Usage of event listeners",id:"usage-of-event-listeners",level:2},{value:"Usage without react",id:"usage-without-react",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",img:"img",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["To start a new project with ",(0,a.jsx)(n.code,{children:"chayns-api"}),", use our\n",(0,a.jsx)(n.a,{href:"https://github.com/TobitSoftware/create-chayns-app",children:(0,a.jsx)(n.code,{children:"create-chayns-app"})}),"\ncommand line tool. It will set up an optimal development environment for you in\none command."]}),"\n",(0,a.jsx)(n.p,{children:"To use the api, it is required to have your App wrapped by the ChaynsProvider. The chayns-toolkit has to be installed and updated to version 2.0.0-beta.19."}),"\n",(0,a.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"import { ChaynsProvider } from 'chayns-api';\n\nconst AppWrapper = () => (\n    <ChaynsProvider>\n        <App/>\n    </ChaynsProvider>\n)\n"})}),"\n",(0,a.jsx)(n.p,{children:"When adding the page to your chayns site activate the v5 checkbox."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:"https://chayns.space/75508-15270/code/add_page.png?1",alt:"add page"})}),"\n",(0,a.jsx)(n.h2,{id:"example-hook",children:"Example Hook"}),"\n",(0,a.jsx)(n.p,{children:"The user object is null when no user is logged in.\nAfter a login the user object changes and triggers a rerender."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"import { useUser } from 'chayns-api';\n\nconst FirstName = () => {\n  const user = useUser();\n  \n  return (\n      <div>{user?.firstName}</div>\n  );\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"example-without-hook",children:"Example without hook"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:"import { getUser, getAccessToken } from 'chayns-api';\n\nconst getBookings = async () => {\n    const { accessToken } = await getAccessToken();\n    const { personId } = getUser();\n    const requestData = {\n        headers: {\n            Authorization: `Bearer ${accessToken}`\n        } \n    }\n    return fetch(`https://example.com/bookings/${personId}`, requestData);\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"usage-of-event-listeners",children:"Usage of event listeners"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-jsx",children:'import { addWindowMetricsListener, removeWindowMetricsListener } from \'chayns-api\';\nimport { useEffect } from "react";\n\nconst FloatingButton = async () => {\n    const promiseRef = useRef();\n    \n    useEffect(() => {\n        promiseRef.current = addWindowMetricsListener(value, (data) => {\n            console.log("Data", data)\n        });\n\n        return () => promiseRef.current?.then(removeWindowMetricsListener);\n    }, [])\n    return <div>Float</div>\n}\n'})}),"\n",(0,a.jsx)(n.h2,{id:"usage-without-react",children:"Usage without react"}),"\n",(0,a.jsx)(n.p,{children:"Add this to your index html file:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'<script src="https://api.chayns-static.space/api/production/v5.0/chayns-api.js">\n'})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Init chayns-api once\nwindow.chaynsApi = new window.ChaynsApi.StaticChaynsApi();\n\nawait chaynsApi.ready;\n\n// Example usage\nvar { id } = chaynsApi.getSite();\nchaynsApi.createDialog({type: 'alert', text: `SiteId: ${id}`}).open();\n"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var s=t(6540);const a={},i=s.createContext(a);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);